{"version":3,"file":"vue.js","sources":["../../src/utils/index.js","../../src/observe/array.js","../../src/observe/index.js","../../src/state.js","../../src/compiler/parser.js","../../src/compiler/index.js","../../src/init.js","../../src/index.js"],"sourcesContent":["export function isObject (obj) {\r\n  return obj !== null && typeof obj === 'object'\r\n}\r\n\r\nexport function isArray (val) {\r\n  return Object.prototype.toString.call(val) === '[object Array]'\r\n}\r\n\r\nexport function query (el) {\r\n  if (typeof el === 'string') {\r\n    const selected = document.querySelector(el)\r\n    if (!selected) {\r\n      return document.createElement('div')\r\n    }\r\n    return selected\r\n  }\r\n  return el\r\n}\r\n\r\nexport function getOuterHTML (el) {\r\n  if (el.outerHTML) {\r\n    return el.outerHTML\r\n  }\r\n  const container = document.createElement('div')\r\n  container.appendChild(el.clone())\r\n  return container.innerHTML\r\n}\r\n","let oldArrayMethods = Array.prototype// 获取数组原型方法\r\n// 创建一个全新得对象，可以找到数组原型上得方法，而且修改对象是不会影响原有得数组原型方法\r\nexport let arrMethods = Object.create(oldArrayMethods)\r\n\r\nlet methods = [\r\n  'push',\r\n  'pop',\r\n  'shift',\r\n  'unshift',\r\n  'sort',\r\n  'reverse',\r\n  'splice'\r\n]\r\n\r\nmethods.forEach(method => {\r\n  arrMethods[method] = function (...args) { //函数劫持\r\n    //当用户调用数组方法是，会先执行我定义得逻辑，再执行原有数组默认得逻辑\r\n    const ob = this.__ob__\r\n    const result = oldArrayMethods[method].apply(this, args)\r\n    // push pop splice  都可以新增属性 （新增得属性可能是一个对象类型）\r\n    // 内部对数组中应用类型也做了一次劫持\r\n    let inserted\r\n    switch (method) {\r\n      case 'push':\r\n      case'unshift':\r\n        inserted = args\r\n        break\r\n      case 'splice':\r\n        inserted = args.slice(2)\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    // console.log(inserted)\r\n    inserted && ob.observeArray(inserted)\r\n    return result\r\n  }\r\n})\r\n","//把data中的数据，都是用Object.defineProperty重新定义\r\n//Object.defineProperty 不能兼容ie8\r\nimport { isObject, isArray } from '../utils/index'\r\nimport { arrMethods } from './array'\r\n\r\nclass Observer {\r\n  constructor (data) {\r\n    //对数组索引进行拦截 性能差\r\n    //相当于在数据上增加__ob__这个属性，指向得是Observe\r\n    this.value = data;\r\n    Object.defineProperty(data, '__ob__', {\r\n      enumerable: false, //不可枚举\r\n      configurable: false, // 不可配置\r\n      value: this\r\n    })\r\n    if (isArray(data)) {\r\n      data.__proto__ = arrMethods\r\n      this.observeArray(data)\r\n    } else {\r\n      this.walk(data) //\r\n    }\r\n  }\r\n\r\n  walk (data) {\r\n    Object.keys(data).forEach(key => {\r\n      let value = data[key]\r\n      defineReactive(data, key, value)\r\n    })\r\n  }\r\n\r\n  observeArray (data) {\r\n    for (let i = 0; i < data.length; i++) {\r\n      observe(data[i])\r\n    }\r\n  }\r\n\r\n}\r\n\r\nfunction defineReactive (data, key, value) {\r\n  observe(value) //递归实现深度检测\r\n  Object.defineProperty(data, key, {\r\n    get () {\r\n      return value\r\n    },\r\n    set (newValue) {\r\n      console.log(newValue)\r\n      if (newValue === value) return\r\n      observe(newValue)\r\n      value = newValue\r\n    }\r\n  })\r\n}\r\n\r\nexport function observe (data) {\r\n  if (!isObject(data)) {\r\n    return\r\n  }\r\n  if(data.__ob__ instanceof Observer){ // 防止对象被重复观测\r\n    return ;\r\n  }\r\n  return new Observer(data)\r\n}\r\n","import { observe } from './observe/index.js'\r\n\r\nexport function initState (vm) {\r\n  const opts = vm.$options\r\n  //vue的数据来源: 属性 方法 数据 计算属性  watch\r\n  if (opts.props) {\r\n    initProps(vm)\r\n  }\r\n  if (opts.methods) {\r\n    initMethods(vm)\r\n  }\r\n  if (opts.data) {\r\n    initData(vm)\r\n  }\r\n\r\n  if (opts.computed) {\r\n    initComputed(vm)\r\n  }\r\n  if (opts.watch) {\r\n    initWatch(vm)\r\n  }\r\n}\r\n\r\nfunction initData (vm) {\r\n  //数据初始化工作\r\n  let data = vm.$options.data\r\n  data = vm._data = typeof data === 'function' ? data.call(vm) : data\r\n  //对象劫持，用户改变了数据，可以得到通知 =》 刷新页面\r\n  //Object.defineProperty() 给属性增加get 和set方法\r\n  observe(data)\r\n}\r\n\r\nfunction initProps () {\r\n\r\n}\r\n\r\nfunction initMethods () {\r\n\r\n}\r\n\r\nfunction initComputed () {\r\n\r\n}\r\n\r\nfunction initWatch () {\r\n\r\n}\r\n","//字母a-zA-Z_ - . 数组小写字母 大写字母\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*` // 标签名\r\n// ?:匹配不捕获   <aaa:aaa>\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`\r\n// startTagOpen 可以匹配到开始标签 正则捕获到的内容是 (标签名)\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`) // 标签开头的正则 捕获的内容是标签名\r\n// 闭合标签 </xxxxxxx>\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`) // 匹配标签结尾的 </div>\r\n// <div aa   =   \"123\"  bb=123  cc='123'\r\n// 捕获到的是 属性名 和 属性值 arguments[1] || arguments[2] || arguments[2]\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/ // 匹配属性的\r\n// <div >   <br/>\r\nconst dynamicArgAttribute = /^\\s*((?:v-[\\w-]+:|@|:|#)\\[[^=]+\\][^\\s\"'<>\\/=]*)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/\r\nconst startTagClose = /^\\s*(\\/?)>/ // 匹配标签结束的 >\r\n// 匹配动态变量的  +? 尽可能少匹配\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\r\n\r\nexport function parseHTML(html) {\r\n  let root; //树根\r\n  let currentParent; //当前父级\r\n  let stack = [] // 判断标签是否闭合\r\n\r\n  function createASTElement(tagName, attrs) {\r\n    return {\r\n      tag: tagName,\r\n      attrs,\r\n      children: [],\r\n      parent: null,\r\n      type: 1 // 1普通元素 3文本\r\n    }\r\n  }\r\n\r\n  //开始标签，每次开始解析标签都会执行此方法\r\n  function start(tagName, attrs) {\r\n    let element = createASTElement(tagName, attrs)\r\n    if (!root) {\r\n      root = element\r\n    }\r\n    currentParent = element\r\n    stack.push(element)\r\n  }\r\n\r\n  while (html) {\r\n    let textEnd = html.indexOf('<')\r\n    if (textEnd == 0) {\r\n      const startTagMatch = parseStartTag()\r\n      if (startTagMatch) {\r\n        start(startTagMatch.tagName, startTagMatch.attrs)\r\n      }\r\n      const endTagMatch = html.match(endTag)\r\n      if (endTagMatch) {\r\n        console.log(endTagMatch)\r\n        advance(endTagMatch[0].length)\r\n      }\r\n    }\r\n    let text;\r\n\r\n    if (textEnd > 0) {\r\n      // console.log(textEnd)\r\n      text = html.substring(0, textEnd)\r\n    }\r\n    if (text) {\r\n      advance(text.length)\r\n    }\r\n  }\r\n\r\n  function advance(n) {\r\n    html = html.substring(n)\r\n  }\r\n\r\n  function parseStartTag() {\r\n    const start = html.match(startTagOpen)\r\n    if (start) {\r\n      const match = {\r\n        tagName: start[1],\r\n        attrs: []\r\n      }\r\n      advance(start[0].length)\r\n      let end, attr\r\n      while (!(end = html.match(startTagClose)) && (attr = html.match(dynamicArgAttribute)) || (attr = html.match(attribute))) {\r\n        advance(attr[0].length)\r\n        match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] })\r\n      }\r\n      if (end) {\r\n        advance(end[0].length)\r\n        return match\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { parseHTML } from './parser'\r\n\r\nexport function compilerToFunctions (template) {\r\n  let ast = parseHTML(template)\r\n  return ''\r\n}\r\n","import { initState } from './state'\r\nimport { getOuterHTML, query } from './utils/index'\r\nimport { compilerToFunctions } from './compiler/index'\r\n\r\nexport function initMixin (Vue) {\r\n  //初始化流程\r\n  Vue.prototype._init = function (options) {\r\n    const vm = this\r\n    //Vue中使用this.$options  指代的就是用户传递的属性\r\n    vm.$options = options\r\n    //初始化状态 数据劫持得开始\r\n    initState(vm)\r\n    if (vm.$options.el) {\r\n      vm.$mount(vm.$options.el)\r\n    }\r\n  }\r\n  Vue.prototype.$mount = function (el) {\r\n    el = el && query(el)\r\n    if (el === document.body || el === document.documentElement) {\r\n      console.log(`不要将vue得实例挂载到 <html> 和 <body>上 而是挂载到普通元素上`)\r\n      return\r\n    }\r\n    const options = this.$options\r\n    // 无论是单文件开发或者是写了el或者template字符串，最终都会走render方法\r\n    // 如果用户没有传入render 使用template\r\n    if (!options.render) {\r\n      let template = options.template\r\n      //如果没有传入template 则使用外部模板 id=\"app\"\r\n      if (!template && el) {\r\n        template = getOuterHTML(el)\r\n      }\r\n      options.render = compilerToFunctions(template)\r\n    }\r\n\r\n  }\r\n}\r\n\r\n","// Vue 声明\r\nimport { initMixin } from './init'\r\n\r\nfunction Vue (options) {\r\n  this._init(options)\r\n}\r\n\r\ninitMixin(Vue) //给vue原型上添加一个_init方法\r\n\r\nexport default Vue\r\n"],"names":["isObject","obj","isArray","val","Object","prototype","toString","call","query","el","selected","document","querySelector","createElement","getOuterHTML","outerHTML","container","appendChild","clone","innerHTML","oldArrayMethods","Array","arrMethods","create","methods","forEach","method","ob","__ob__","args","result","apply","inserted","slice","observeArray","Observer","data","value","defineProperty","enumerable","configurable","__proto__","walk","keys","key","defineReactive","i","length","observe","get","set","newValue","console","log","initState","vm","opts","$options","props","initData","computed","watch","_data","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","dynamicArgAttribute","startTagClose","parseHTML","html","start","tagName","attrs","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","text","substring","n","end","attr","push","name","compilerToFunctions","template","ast","initMixin","Vue","_init","options","$mount","body","documentElement","render"],"mappings":"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"}